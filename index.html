<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, minimum-scale=1, initial-scale=1, user-scalable=yes">

    <title>image-carousel-app</title>
    <meta name="description" content="image-carousel-app description">

    <!-- See https://goo.gl/OOhYW5 -->
    <link rel="stylesheet" href="/styles.css">
    <link rel="manifest" href="/manifest.json">
    <link rel="import" href="/src/image-carousel-app-app/image-carousel-app-app.html">
    <link rel="import" href="/bower_components/query-images/query-images.html">
    <script src="/bower_components/webcomponentsjs/webcomponents-loader.js"></script>
  </head>
  <body>
    <header class="masthead">
      <h1> Unsplash photos viewer </h1>
    </header>
    <section>
      <div class="wrapper">
        <div class="left">
          <query-images cache-storage$="true"></query-images>
        </div>
        <div class="right">
          <image-carousel-app-app></image-carousel-app-app>
        </div>
      </div>
    </section>
    <script>
     (function() {
        'use strict';
        if (!('serviceWorker' in navigator)) {
          console.log('Service worker not supported');
          return;
        }
        navigator.serviceWorker.register('service-worker.js',{scope: './'})
        .then(function(registration) {
          console.log('Registered at scope',registration.scope);
        })
        .catch(function(error) {
          console.log('Registration failed:', error);
        });
     })();
    </script>
    <script>
      const imageCarouselApp = document.querySelector('image-carousel-app-app');
      const carousel = imageCarouselApp.shadowRoot.querySelector("image-carousel");
      let images= ["https://app-layout-assets.appspot.com/assets/bg1.jpg"]
      images.forEach( function(image) {
          var img  = document.createElement("img");
          img.setAttribute('data-src',image);
          carousel.appendChild(img);
      });
    </script>
  </body>
</html>
